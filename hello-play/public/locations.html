<html>
    <head>
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
        

    </head>
	<style>
	table,th,td
	{
	border:1px solid black;
	}
	#header
	{
	font-weight:bold;
	}
	</style>
    <a href="create_donator.html">create donator</a>
    <body id = "body">
    <table id = "table" border="1">
    </table>
    Relations:
    <a href="donations.html">donations</a>
	
	<button id ="submit" type="button" >Submit</button>
	<div id="container"></div>
    </body>
	
	 <script>
			
		function addToRow(row,value){
			var row1 = $('<td></td>').addClass('bar').text(value);
			row.append(row1);
		}	
		
		function addToDeleteRow(row,item){
			var row1 = $('<td></td>').addClass('bar');
			row.append(row1);
			var deleteButton = $('<button id=\"'+ item._links.self.href +'\">Delete</button>');
			row1.append(deleteButton);
			$(deleteButton).parent().parent().attr('id',   item._links.self.href);
			$(deleteButton).click(function () {
				$(this).parent().parent().remove();
			});
		}		
			
			
		$("#submit").click(function () {
		var table = $('<table id=\"data\"></table>').addClass('foo');
			
			row = $('<tr id=\"header\"></tr>');
			table.append(row);
			addToRow(row,"city");
			addToRow(row,"country");
			addToRow(row,"latitude");
			addToRow(row,"longitude");
			addToRow(row,"remove");

					
			$.ajax({
                    type: "GET",
                    url: "http://localhost:9000/api/locations",
                    acccept: "application/json",
                    success: function(response) {
							print(JSON.parse(response));
                        }
                    })
                
				
			
			$('#container').append(table);
			
		});
		function print(response,table){
			for(var i=0;i<response._embedded.locations.length;i++)
			{
				var item = response._embedded.locations[i];
				row = $('<tr></tr>');
				$("#data").append(row);
				addToRow(row,item.city);
				addToRow(row,item.country);
				addToRow(row,item.latitude);
				addToRow(row,item.longitude);
				addToDeleteRow(row,item);
			}
		}
	
	
		</script>
	
</html>